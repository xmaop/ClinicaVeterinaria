var handleSlimScroll=function(){"use strict";$("[data-scrollbar=true]").each(function(){generateSlimScroll($(this))})},mensaje=function(n,t,i,r){t&&$.gritter.add({title:n,text:t,sticky:!1,image:i==""?"":"/assets/img/mensaje/"+i+".png",class_name:"gritter-"+r,before_open:function(){if($(".gritter-item-wrapper").length===6)return!1}})},restaFechas=function(n,t){n=n+"";t=t+"";var i=n.split("/"),r=t.split("/"),u=Date.UTC(i[2],i[1]-1,i[0]),f=Date.UTC(r[2],r[1]-1,r[0]),e=f-u;return Math.floor(e/864e5)+1};generateSlimScroll=function(n){var t,i;$(n).attr("data-init")||(t=$(n).attr("data-height"),t=t?t:$(n).height(),i={height:t,alwaysVisible:!0},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($(n).css("height",t),$(n).css("overflow-x","scroll")):$(n).slimScroll(i),$(n).attr("data-init",!0))};handleSidebarMenu=function(){"use strict";$(".sidebar .nav > .has-sub > a").click(function(){var n=$(this).next(".sub-menu");0===$(".page-sidebar-minified").length&&($(".sidebar .nav > li.has-sub > .sub-menu").not(n).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(n).slideToggle(250,function(){var n=$(this).closest("li");$(n).hasClass("expand")?$(n).removeClass("expand"):$(n).addClass("expand")}))});$(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===$(".page-sidebar-minified").length){var n=$(this).next(".sub-menu");$(n).slideToggle(250)}})};handleMobileSidebarToggle=function(){var n=!1;$(".sidebar").bind("click touchstart",function(t){0!==$(t.target).closest(".sidebar").length?n=!0:(n=!1,t.stopPropagation())});$(document).bind("click touchstart",function(t){0===$(t.target).closest(".sidebar").length&&(n=!1);t.isPropagationStopped()||n===!0||($("#page-container").hasClass("page-sidebar-toggled")&&(n=!0,$("#page-container").removeClass("page-sidebar-toggled")),$(window).width()<=767&&$("#page-container").hasClass("page-right-sidebar-toggled")&&(n=!0,$("#page-container").removeClass("page-right-sidebar-toggled")))});$("[data-click=right-sidebar-toggled]").click(function(t){t.stopPropagation();var r="#page-container",i="page-right-sidebar-collapsed";i=$(window).width()<979?"page-right-sidebar-toggled":i;$(r).hasClass(i)?$(r).removeClass(i):n!==!0?$(r).addClass(i):n=!1;$(window).width()<480&&$("#page-container").removeClass("page-sidebar-toggled");$(window).trigger("resize")});$("[data-click=sidebar-toggled]").click(function(t){t.stopPropagation();var i="page-sidebar-toggled",r="#page-container";$(r).hasClass(i)?$(r).removeClass(i):n!==!0?$(r).addClass(i):n=!1;$(window).width()<480&&$("#page-container").removeClass("page-right-sidebar-toggled")})};handleSidebarMinify=function(){$("[data-click=sidebar-minify]").click(function(n){n.preventDefault();var i="page-sidebar-minified",t="#page-container";$('#sidebar [data-scrollbar="true"]').css("margin-top","0");$('#sidebar [data-scrollbar="true"]').removeAttr("data-init");$("#sidebar [data-scrollbar=true]").stop();$(t).hasClass(i)?($(t).removeClass(i),$(t).hasClass("page-sidebar-fixed")?(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')),$("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')))):($(t).addClass(i),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').css("overflow","visible")):($(t).hasClass("page-sidebar-fixed")&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),$("#sidebar [data-scrollbar=true]").trigger("mouseover")));$(window).trigger("resize")})};handlePageContentView=function(){"use strict";$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})};panelActionRunning=!1;handlePanelAction=function(){return panelActionRunning?!1:(panelActionRunning=!0,$(document).on("hover","[data-click=panel-remove]",function(){$(this).tooltip({title:"Remove",placement:"bottom",trigger:"hover",container:"body"});$(this).tooltip("show")}),$(document).on("click","[data-click=panel-remove]",function(n){n.preventDefault();$(this).tooltip("destroy");$(this).closest(".panel").remove()}),$(document).on("hover","[data-click=panel-collapse]",function(){$(this).tooltip({title:"Collapse / Expand",placement:"bottom",trigger:"hover",container:"body"});$(this).tooltip("show")}),$(document).on("click","[data-click=panel-collapse]",function(n){n.preventDefault();$(this).closest(".panel").find(".panel-body").slideToggle()}),$(document).on("hover","[data-click=panel-reload]",function(){$(this).tooltip({title:"Reload",placement:"bottom",trigger:"hover",container:"body"});$(this).tooltip("show")}),$(document).on("click","[data-click=panel-reload]",function(n){var t,i,r;n.preventDefault();t=$(this).closest(".panel");$(t).hasClass("panel-loading")||(i=$(t).find(".panel-body"),r='<div class="panel-loader"><span class="spinner-small"><\/span><\/div>',$(t).addClass("panel-loading"),$(i).prepend(r),setTimeout(function(){$(t).removeClass("panel-loading");$(t).find(".panel-loader").remove()},2e3))}),$(document).on("hover","[data-click=panel-expand]",function(){$(this).tooltip({title:"Expand / Compress",placement:"bottom",trigger:"hover",container:"body"});$(this).tooltip("show")}),void $(document).on("click","[data-click=panel-expand]",function(n){var f,e,r;n.preventDefault();var i=$(this).closest(".panel"),t=$(i).find(".panel-body"),u=40;0!==$(t).length&&(f=$(i).offset().top,e=$(t).offset().top,u=e-f);$("body").hasClass("panel-expand")&&$(i).hasClass("panel-expand")?($("body, .panel").removeClass("panel-expand"),$(".panel").removeAttr("style"),$(t).removeAttr("style")):($("body").addClass("panel-expand"),$(this).closest(".panel").addClass("panel-expand"),0!==$(t).length&&40!=u)&&(r=40,$(i).find(" > *").each(function(){var n=$(this).attr("class");"panel-heading"!=n&&"panel-body"!=n&&(r+=$(this).height()+30)}),40!=r&&$(t).css("top",r+"px"));$(window).trigger("resize")}))};handelTooltipPopoverActivation=function(){"use strict";$("[data-toggle=tooltip]").tooltip();$("[data-toggle=popover]").popover()};handleScrollToTopButton=function(){"use strict";$(document).scroll(function(){var n=$(document).scrollTop();n>=200?$("[data-click=scroll-top]").addClass("in"):$("[data-click=scroll-top]").removeClass("in")});$("[data-click=scroll-top]").click(function(n){n.preventDefault();$("html, body").animate({scrollTop:$("body").offset().top},500)})};handleThemePanelExpand=function(){$(document).on("click",'[data-click="theme-panel-expand"]',function(){var n=".theme-panel",t="active";$(n).hasClass(t)?$(n).removeClass(t):$(n).addClass(t)})};handleSavePanelPosition=function(n){"use strict";if(0!==$(".ui-sortable").length){var t=[],i=0;$.when($(".ui-sortable").each(function(){var r=$(this).find("[data-sortable-id]"),n;0!==r.length?(n=[],$(r).each(function(){var t=$(this).attr("data-sortable-id");n.push({id:t})}),t.push(n)):t.push([]);i++})).done(function(){var i=window.location.href;i=i.split("?");i=i[0];localStorage.setItem(i,JSON.stringify(t));$(n).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){$(this).remove()})})}};handleIEFullHeightContent=function(){var n=window.navigator.userAgent,t=n.indexOf("MSIE ");(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var n=$(this).closest(".vertical-box-row"),t=$(n).height();$(n).find(".vertical-box-cell").height(t)})};handleMobileSidebar=function(){"use strict";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#page-container").hasClass("page-sidebar-minified")&&($('#sidebar [data-scrollbar="true"]').css("overflow","visible"),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),$(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"));var n=0;$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchstart",function(t){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=i.pageY;n=r-parseInt($(this).closest("[data-scrollbar=true]").css("margin-top"))});$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchmove",function(t){if(t.preventDefault(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=i.pageY,u=r-n;$(this).closest("[data-scrollbar=true]").css("margin-top",u+"px")}});$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchend",function(){var i=$(this).closest("[data-scrollbar=true]"),u=$(window).height(),o=parseInt($("#sidebar").css("padding-top")),f=$("#sidebar").height(),t,e,r;n=$(i).css("margin-top");t=o;$(".sidebar").not(".sidebar-right").find(".nav").each(function(){t+=$(this).height()});e=-parseInt(n)+$(".sidebar").height();e>=t&&t>=u&&t>=f?(r=u-t-20,$(i).animate({marginTop:r+"px"})):parseInt(n)>=0||f>=t?$(i).animate({marginTop:"0px"}):(r=n,$(i).animate({marginTop:r+"px"}))})};handleClearSidebarSelection=function(){$(".sidebar .nav > li, .sidebar .nav .sub-menu").removeClass("expand").removeAttr("style")};handleClearSidebarMobileSelection=function(){$("#page-container").removeClass("page-sidebar-toggled")};App=function(){return{init:function(){this.initSidebar();this.initPageLoad();this.initComponent();this.initThemePanel()},initSidebar:function(){handleSidebarMenu();handleMobileSidebarToggle();handleSidebarMinify();handleMobileSidebar()},initSidebarSelection:function(){handleClearSidebarSelection()},initSidebarMobileSelection:function(){handleClearSidebarMobileSelection()},initPageLoad:function(){handlePageContentView()},initComponent:function(){mensaje();restaFechas();handleIEFullHeightContent();handleSlimScroll();handlePanelAction();handelTooltipPopoverActivation();handleScrollToTopButton()},initThemePanel:function(){handleThemePanelExpand()},scrollTop:function(){$("html, body").animate({scrollTop:$("body").offset().top},0)}}}();